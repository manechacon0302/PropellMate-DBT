version: 2

models:
  - name: customerswithorders
    description: Customer orders with customer details joined. This model provides a complete view of all orders with their associated customer information.
    columns:
      - name: order_id
        description: Unique identifier for each order
      - name: customer_id
        description: Unique identifier for the customer who placed the order
      - name: customer_name
        description: Name of the customer who placed the order
      - name: order_total
        description: Total monetary value of the order
      - name: ordered_at
        description: Timestamp when the order was placed

  - name: totalordercustomername
    description: Aggregated total spending per customer. This model calculates the total amount spent by each customer across all their orders, sorted by highest spenders first.
    columns:
      - name: customer_name
        description: Name of the customer
      - name: total_spent
        description: Total amount spent by the customer across all orders

  - name: countfooddrinkorders
    description: Count of food and drink items ordered by each customer. This model provides a breakdown of the number of food items and drink items ordered by each customer.
    columns:
      - name: name
        description: Customer name
      - name: item_count
        description: Number of items ordered of the specific type (food or drink)
      - name: item_type
        description: Type of item - either 'food' or 'drink'